package com.flightapp.bookingservice.service.impl;

import java.util.UUID;

import org.springframework.stereotype.Service;

import com.flightapp.bookingservice.dto.BookingRequestDto;
import com.flightapp.bookingservice.dto.PassengerDetailsDto;
import com.flightapp.bookingservice.dto.PassengerDto;
import com.flightapp.bookingservice.model.Booking;
import com.flightapp.bookingservice.model.PassengerDetails;
import com.flightapp.bookingservice.service.BookingService;

@Service
public class BookingServiceImpl implements BookingService{

	@Override
	public void bookTicket(BookingRequestDto bookingRequest) {
		Booking bookingDetails = new Booking();
		bookingDetails.setPnrNumber(UUID.randomUUID().toString());
		bookingRequest.getPassengerDetailsListDto()
		.stream()
		.map(passengerDetails -> mapToDto(passengerDto));
	}
	
	private PassengerDetails mapToDto(PassengerDetailsDto passengerDetailsDto) {
		PassengerDetails.builder().passengerName(passengerDetailsDto.getPassengerName())
		.gender(passengerDetailsDto.getGender())
		.age(passengerDetailsDto.getAge())
		.idProofNumber(passengerDetailsDto.getGender()).build();
	}

}
